<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speise Details</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <h1 id="dish-title">Speise Details</h1>
        <button onclick="goBack()">Zurück zur Speisekarte</button>
    </header>
    <main>
        <section>
            <h2>Beschreibung</h2>
            <p id="dish-description"></p>
            <h2>Bilder</h2>
            <div class="image-gallery" id="image-gallery">
                <!-- Bilder werden hier dynamisch eingefügt -->
            </div>
        </section>
    </main>
    <script>
        function goBack() {
            window.history.back();
        }

        function getQueryParams() {
            const params = new URLSearchParams(window.location.search);
            return {
                name: params.get('name'),
                description: params.get('description'),
                folder: params.get('folder') // Ordnername als Parameter
            };
        }

        document.addEventListener('DOMContentLoaded', function() {
            const { name, description, folder } = getQueryParams();
            document.getElementById('dish-title').textContent = name;
            document.getElementById('dish-description').textContent = description;

            const imageGallery = document.getElementById('image-gallery');

            fetchImages(folder).then(images => {
                images.forEach(image => {
                    const imgElement = document.createElement('img');
                    imgElement.src = image;
                    imgElement.alt = name;
                    imageGallery.appendChild(imgElement);
                });
            });
        });

        async function fetchImages(folder) {
            const response = await fetch(`images/${folder}/`);
            const data = await response.json(); // Annahme: JSON mit Bildpfaden
            return data.images; // Rückgabe der Bildpfade aus dem JSON
        }
    </script>
</body>
</html>
